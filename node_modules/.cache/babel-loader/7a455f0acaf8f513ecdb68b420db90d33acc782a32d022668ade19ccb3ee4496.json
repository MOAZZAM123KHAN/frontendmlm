{"ast":null,"code":"import _objectSpread from\"C:/Users/moazz/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from\"axios\";import{API_URL}from\"../config\";const api=axios.create({baseURL:API_URL,headers:{\"Content-Type\":\"application/json\"}});// ================= Interceptors =================\napi.interceptors.request.use(config=>{const token=localStorage.getItem(\"authToken\")||localStorage.getItem(\"token\");if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>Promise.reject(error));api.interceptors.response.use(response=>response,error=>{var _error$response,_error$response2;const status=(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status;if(status===401)console.error(\"Unauthorized - redirect to login\");if(status===404)console.error(\"Resource not found\");if(status===500)console.error(\"Server error\");return Promise.reject(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error);});// ================= AUTH API =================\nexport const authAPI={login:data=>api.post(\"/auth/login\",data).then(res=>res.data),signup:data=>api.post(\"/auth/signup\",data).then(res=>res.data),generateUserId:mobileNumber=>api.post(\"/auth/generate-user-id\",{mobileNumber}).then(res=>res.data),completeSignup:userData=>api.post(\"/auth/complete-signup\",userData).then(res=>res.data),getDashboard:parentMobile=>api.get(\"/auth/dashboard/\".concat(parentMobile)).then(res=>res.data),verifyOtp:(mobileNumber,otp)=>api.post(\"/auth/verify-otp\",{mobileNumber,otp}).then(res=>res.data),resendOtp:mobileNumber=>api.post(\"/auth/resend-otp\",{mobileNumber}).then(res=>res.data)};// ================= SYSTEM API =================\nexport const systemAPI={healthCheck:()=>api.get(\"/health\").then(res=>res.data)};// ================= PRODUCT API =================\nexport const productAPI={createProduct:data=>api.post(\"/products\",data).then(res=>res.data),assignProduct:(id,assignedTo)=>api.patch(\"/product/\".concat(id,\"/assign\"),{assignedTo}).then(res=>res.data),getProducts:userId=>api.get(\"/products\",{params:userId?{userId}:{}}).then(res=>res.data)};// ================= ORDER API =================\n// export const orderAPI = {\n//   createOrder: (data) => api.post(\"/order\", data).then((res) => res.data),\n//   updateOrderStatus: (id, statusData) =>\n//     api.patch(`/order/${id}/status`, statusData).then((res) => res.data),\n//   updatePaymentStatus: (id, paymentStatus) =>\n//     api.patch(`/order/${id}/payment-status`, { paymentStatus }).then((res) => res.data),\n//   getOrders: (userId) =>\n//     api.get(\"/order\", { params: userId ? { userId } : {} }).then((res) => res.data),\n//   getOrderById: (orderId) =>\n//     api.get(`/order/${orderId}`).then((res) => res.data),\n// };\nexport const orderAPI={createOrder:data=>api.post(\"/orders\",data).then(res=>res.data),// works for normal user now\nupdateOrderStatus:(id,statusData)=>api.patch(\"/orders/\".concat(id,\"/status\"),statusData).then(res=>res.data),updatePaymentStatus:(id,paymentStatus)=>api.patch(\"/orders/\".concat(id,\"/payment-status\"),{paymentStatus}).then(res=>res.data),getOrders:userId=>api.get(\"/orders\",{params:userId?{userId}:{}}).then(res=>res.data),getOrderById:orderId=>api.get(\"/orders/\".concat(orderId)).then(res=>res.data)};// ================= WALLET API =================\nexport const walletAPI={getUserWallet:userId=>api.get(\"/wallet/user/\".concat(userId)).then(res=>res.data),getUserWithdrawalRequests:userId=>api.get(\"/wallet/withdrawal-requests/user/\".concat(userId)).then(res=>res.data),requestWithdrawal:(userId,amount,formData)=>api.post(\"/wallet/withdrawal-requests\",_objectSpread({userId,amount},formData)).then(res=>res.data)};// ================= DOWNLINE API =================\nexport const downlineAPI={assignDownline:(userId,parentId,level)=>api.post(\"/downline/assign\",{userId,parentId,level}).then(res=>res.data),getDownline:userId=>api.get(\"/downline\",{params:{userId}}).then(res=>res.data)};export default api;","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","error","Promise","reject","response","_error$response","_error$response2","status","console","data","authAPI","login","post","then","res","signup","generateUserId","mobileNumber","completeSignup","userData","getDashboard","parentMobile","get","verifyOtp","otp","resendOtp","systemAPI","healthCheck","productAPI","createProduct","assignProduct","id","assignedTo","patch","getProducts","userId","params","orderAPI","createOrder","updateOrderStatus","statusData","updatePaymentStatus","paymentStatus","getOrders","getOrderById","orderId","walletAPI","getUserWallet","getUserWithdrawalRequests","requestWithdrawal","amount","formData","_objectSpread","downlineAPI","assignDownline","parentId","level","getDownline"],"sources":["C:/Users/moazz/Desktop/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { API_URL } from \"../config\";\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n});\r\n\r\n// ================= Interceptors =================\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem(\"authToken\") || localStorage.getItem(\"token\");\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    const status = error.response?.status;\r\n    if (status === 401) console.error(\"Unauthorized - redirect to login\");\r\n    if (status === 404) console.error(\"Resource not found\");\r\n    if (status === 500) console.error(\"Server error\");\r\n    return Promise.reject(error.response?.data || error);\r\n  }\r\n);\r\n\r\n// ================= AUTH API =================\r\nexport const authAPI = {\r\n  login: (data) => api.post(\"/auth/login\", data).then((res) => res.data),\r\n  signup: (data) => api.post(\"/auth/signup\", data).then((res) => res.data),\r\n  generateUserId: (mobileNumber) =>\r\n    api.post(\"/auth/generate-user-id\", { mobileNumber }).then((res) => res.data),\r\n  completeSignup: (userData) =>\r\n    api.post(\"/auth/complete-signup\", userData).then((res) => res.data),\r\n  getDashboard: (parentMobile) =>\r\n    api.get(`/auth/dashboard/${parentMobile}`).then((res) => res.data),\r\n  verifyOtp: (mobileNumber, otp) =>\r\n    api.post(\"/auth/verify-otp\", { mobileNumber, otp }).then((res) => res.data),\r\n  resendOtp: (mobileNumber) =>\r\n    api.post(\"/auth/resend-otp\", { mobileNumber }).then((res) => res.data),\r\n};\r\n\r\n// ================= SYSTEM API =================\r\nexport const systemAPI = {\r\n  healthCheck: () => api.get(\"/health\").then((res) => res.data),\r\n};\r\n\r\n// ================= PRODUCT API =================\r\nexport const productAPI = {\r\n  createProduct: (data) => api.post(\"/products\", data).then((res) => res.data),\r\n  assignProduct: (id, assignedTo) =>\r\n    api.patch(`/product/${id}/assign`, { assignedTo }).then((res) => res.data),\r\n  getProducts: (userId) =>\r\n    api.get(\"/products\", { params: userId ? { userId } : {} }).then((res) => res.data),\r\n};\r\n\r\n// ================= ORDER API =================\r\n// export const orderAPI = {\r\n//   createOrder: (data) => api.post(\"/order\", data).then((res) => res.data),\r\n//   updateOrderStatus: (id, statusData) =>\r\n//     api.patch(`/order/${id}/status`, statusData).then((res) => res.data),\r\n//   updatePaymentStatus: (id, paymentStatus) =>\r\n//     api.patch(`/order/${id}/payment-status`, { paymentStatus }).then((res) => res.data),\r\n//   getOrders: (userId) =>\r\n//     api.get(\"/order\", { params: userId ? { userId } : {} }).then((res) => res.data),\r\n//   getOrderById: (orderId) =>\r\n//     api.get(`/order/${orderId}`).then((res) => res.data),\r\n// };\r\n\r\nexport const orderAPI = {\r\n  createOrder: (data) => api.post(\"/orders\", data).then(res => res.data), // works for normal user now\r\n  updateOrderStatus: (id, statusData) => api.patch(`/orders/${id}/status`, statusData).then(res => res.data),\r\n  updatePaymentStatus: (id, paymentStatus) => api.patch(`/orders/${id}/payment-status`, { paymentStatus }).then(res => res.data),\r\n  getOrders: (userId) => api.get(\"/orders\", { params: userId ? { userId } : {} }).then(res => res.data),\r\n  getOrderById: (orderId) => api.get(`/orders/${orderId}`).then(res => res.data)\r\n};\r\n\r\n\r\n// ================= WALLET API =================\r\nexport const walletAPI = {\r\n  getUserWallet: (userId) =>\r\n    api.get(`/wallet/user/${userId}`).then((res) => res.data),\r\n\r\n  getUserWithdrawalRequests: (userId) =>\r\n    api.get(`/wallet/withdrawal-requests/user/${userId}`).then((res) => res.data),\r\n\r\n  requestWithdrawal: (userId, amount, formData) =>\r\n    api.post(`/wallet/withdrawal-requests`, { userId, amount, ...formData })\r\n       .then((res) => res.data),\r\n};\r\n\r\n// ================= DOWNLINE API =================\r\nexport const downlineAPI = {\r\n  assignDownline: (userId, parentId, level) =>\r\n    api.post(\"/downline/assign\", { userId, parentId, level }).then((res) => res.data),\r\n\r\n  getDownline: (userId) =>\r\n    api.get(\"/downline\", { params: { userId } }).then((res) => res.data),\r\n};\r\n\r\nexport default api;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}